module self_clocking(
	input div_clk,//1sä¸€æ¬¡çš„åˆ†é¢‘å¥½çš„æ—¶é’Ÿä¿¡å·
	input rst_n,//å¤ä½ä¿¡å·
	
	input sw0, //æ‹¨åŠ¨å¼€å…?,ç”¨äºæ ‡è®°æ˜¯æ‰‹åŠ¨è°ƒæ—¶é—´è¿˜æ˜¯è‡ªåŠ¨è®¡æ—¶ï¼šä¸º1è‡ªåŠ¨è®¡æ—¶ï¼Œä¸º0æ‰‹åŠ¨è°ƒæ—¶é—?
	input sw1, //æ‹¨åŠ¨å¼€å…?ï¼Œç”¨äºæ ‡è®°æ˜¯æ‰‹åŠ¨è°ƒæ—¶é—´è¿˜æ˜¯æ‰‹åŠ¨è°ƒé—¹é’Ÿ
	//input key0;//æŒ‰é”®0ç”¨æ¥å†³å®šæ‰‹åŠ¨è°ƒæ—¶æ—¶å€™æ˜¯æŒ‘ç§’ã€è¿˜æ˜¯åˆ†é’Ÿæˆ–å°æ—¶ã€?
	//input key1;//

	input wire [3:0] manual_secL,//æ‰‹åŠ¨è°ƒæ—¶çš„ç§’çš„ä¸ªä½?
	input wire [3:0] manual_secH,//æ‰‹åŠ¨è°ƒæ—¶çš„ç§’çš„åä½?
	input wire [3:0] manual_minL,//æ‰‹åŠ¨è°ƒæ—¶çš„åˆ†çš„ä¸ªä½?
	input wire [3:0] manual_minH,//æ‰‹åŠ¨è°ƒæ—¶çš„åˆ†çš„åä½?
	input wire [3:0] manual_hourL,//æ‰‹åŠ¨è°ƒæ—¶çš„æ—¶çš„ä¸ªä½?
	input wire [3:0] manual_hourH,//æ‰‹åŠ¨è°ƒæ—¶çš„æ—¶çš„åä½?
	
	output reg [3:0] self_secL,//è‡ªåŠ¨è®¡æ—¶çš„ç§’çš„ä¸ªä½?
	output reg [3:0] self_secH,//è‡ªåŠ¨è®¡æ—¶çš„ç§’çš„åä½?
	output reg [3:0] self_minL,//è‡ªåŠ¨è®¡æ—¶çš„åˆ†çš„ä¸ªä½?
	output reg [3:0] self_minH,//è‡ªåŠ¨è®¡æ—¶çš„åˆ†çš„åä½?
	output reg [3:0] self_hourL,//è‡ªåŠ¨è®¡æ—¶çš„æ—¶çš„ä¸ªä½?
	output reg [3:0] self_hourH//è‡ªåŠ¨è®¡æ—¶çš„æ—¶çš„åä½?
);
always @ (posedge div_clk or negedge rst_n) begin
	if(!rst_n) begin
		self_secL <= 4'b0000;
		self_secH <= 4'b0000;
		self_minL <= 4'b0010;
		self_minH <= 4'b0010;
		self_hourL <= 4'b0011;
		self_hourH <= 4'b0011;
	end
	else begin
		if(sw0 == 1 || (sw0==0 && sw1==1)) begin //å¦‚æœsw0ç­‰äº1ï¼Œè¿›å…¥è‡ªåŠ¨è®¡æ—?æˆ–è€…å½“è®¾ç½®é—¹é’Ÿçš„æ—¶å€™ï¼Œè‡ªåŠ¨è®¡æ—¶è¿˜æ˜¯ç»§ç»­è¿è¡Œ
			//å¦‚æœåˆ°äº†æœ«çŠ¶æ€å³23:59:59æ—?
			if(self_hourH==4'b0010 && self_hourL==4'b0011 && self_minH==4'b0101 && self_minL==4'b1001 && self_secH==4'b0101 && self_secL==4'b1001) begin
				self_secL <= 4'b0000;
				self_secH <= 4'b0000;
				self_minL <= 4'b0000;
				self_minH <= 4'b0000;
				self_hourL <= 4'b0000;
				self_hourH <= 4'b0000;
			end
			//æ™®é€šçŠ¶æ€æ—¶è®¡æ—¶
			else begin
				if(self_secL==9) begin
					self_secL<=4'b0000;
					if(self_secH==5) begin
						self_secH<=4'b0000;
						if(self_minL==9) begin
							self_minL<=4'b0000;
							if(self_minH==5) begin
								self_minH<=4'b0000;
								if(self_hourL==9) begin
									self_hourL<=4'b0000;
									self_hourH<=self_hourH+1'b1;
								end
								else
									self_hourL<=self_hourL+1'b1;
							end
							else
								self_minH<=self_minH+1'b1;
						end
						else
							self_minL<=self_minL+1'b1;
					end
					else
						self_secH<=self_secH+1'b1;
				end
				else
					self_secL<=self_secL+1'b1;
			end
		end
		else if(sw0==0 && sw1==1) begin//sw0ä¸?ä»£è¡¨è¿›å…¥æ‰‹åŠ¨æ¨¡å¼ï¼Œsw1ä¸?ä»£è¡¨æ˜¯æ‰‹åŠ¨è°ƒæ—¶æ¨¡å¼ï¼Œsw1ä¸?ä»£è¡¨é—¹é’Ÿæ¨¡å¼
			//ç»§æ‰¿æ‰‹åŠ¨æ¨¡å¼çš„ç»“æ?
			self_secL <= manual_secL;
			self_secH <= manual_secH;
			self_minL <= manual_minL;
			self_minH <= manual_minH;
			self_hourL <= manual_hourL;
			self_hourH <= manual_hourH;
		end
	end
end

endmodule

